<article class="media article">
  <%= link_to user_url(article.user), class: "has-text-black", data: {turbo_frame: 'articles'} do %>
  <figure class="media-left">
    <p class="image is-64x64">
      <%# image_tag rails_storage_proxy_path(article.user.avatar), class: "is-rounded"  %>
    </p>
  </figure>
  <% end %>

  <%= turbo_frame_tag 'partial_article' do %>
  <%= link_to user_url(article.user), class: "has-text-black", data: {turbo_frame: 'articles'} do %>
  <div class="media-content">
    <div class="content ">
      <p class="is-family-monospace">
        <strong>@<%= article.user.username %></strong> <small><%= time_ago_in_words(article.created_at) %></small>
  <% end %>
        <br>
  <%= link_to article_url(article), class: "has-text-black is-success", data: {turbo_frame: 'articles'} do %>
          <%= article.body %>
      </p>
    </div>
  <% end %>

    
    <nav class="level is-mobile">
      <div class="level-left">
        <%= turbo_stream_from 'like_stream' %>
        <%= button_to likes_path,
          params: {article_id: article.id},
          mathod: :post,
          class: "level-item",
          title: "Likes" do %>
            <span class="icon is-small">
              <i class="fas fa-heart"></i>
            </span>&nbsp;
            <small>
              <span id="likes <%= dom_id article %>">
                <%= article.likes.count unless article.likes.count.zero? %>
              </span>
            </small>
          <% end %>
      </div>
    </nav>
  <% end %>

  </div>
</article>
