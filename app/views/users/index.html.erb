<%= turbo_frame_tag 'articles', class: "column card is-three-fifths is-offset-one-fifth" do %>
    <% @users.each do |user| %>
         <div class="media box card-content" style="padding: .5rem">
            <%= link_to user_url(user.id) do %>
           <div class="media-left">
             <figure class="image is-48x48">
               <img class="is-rounded" src="<%= Faker::Avatar.image %>">
             </figure>
           </div>

           <div class="media-content">
              <div class="title is-6 is-family-monospace" style="margin-top: 1rem">@<%= user.username %></div>
             <% end %>
           </div>

           <div class="media-right">
               <% if current_user.pending_requests.include?(user.id)%>
                 <span class="icon button is-rounded" title="Pending request" style="margin-top: .9rem"disabled>
                    <i class="fa-solid fa-user-plus"></i>
                 </span>
                <% else %>
                <%= button_to friend_requests_path(receiver_id: user.id),
                  class: "icon is-success button is-rounded",
                  method: :post,
                  title: "Send request", 
                  style: "margin-top: .9rem;",
                  data: { turbo_stream: "users" } do %>
                    <i class="fa-solid fa-user-plus"></i>
                <% end %>
               <% end %>
             </span>             
           </div>
      </div>
    <% end %>
<% end %>
